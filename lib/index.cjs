"use strict";var k=Object.create;var g=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,v=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var w=(e,o,r)=>o in e?g(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,a=(e,o)=>{for(var r in o||(o={}))b.call(o,r)&&w(e,r,o[r]);if(h)for(var r of h(o))D.call(o,r)&&w(e,r,o[r]);return e};var S=(e,o)=>{for(var r in o)g(e,r,{get:o[r],enumerable:!0})},C=(e,o,r,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of M(o))!b.call(e,t)&&t!==r&&g(e,t,{get:()=>o[t],enumerable:!(n=E(o,t))||n.enumerable});return e};var u=(e,o,r)=>(r=e!=null?k(v(e)):{},C(o||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),T=e=>C(g({},"__esModule",{value:!0}),e);var l=(e,o,r)=>new Promise((n,t)=>{var f=i=>{try{s(r.next(i))}catch(c){t(c)}},d=i=>{try{s(r.throw(i))}catch(c){t(c)}},s=i=>i.done?n(i.value):Promise.resolve(i.value).then(f,d);s((r=r.apply(e,o)).next())});var j={};S(j,{configure:()=>G,logError:()=>$});module.exports=T(j);var P=u(require("axios"),1);var I=u(require("bowser"),1),L=u(require("@fingerprintjs/fingerprintjs"),1);var B={debug:!1,disable:!1,logEndpoint:"",staticInfo:{}},m=B;function p(){return m}function y(e){m=e}function F(){return l(this,null,function*(){return(yield(yield L.default.load()).get()).visitorId})}function x(e,o){return l(this,null,function*(){let r=window.location.href,{language:n}=navigator,t=[...navigator.languages],f=I.default.parse(navigator.userAgent),d=`${window.innerWidth}x${window.innerHeight}`,s=yield F(),i=new Date().toString(),c={reducedData:matchMedia("(prefers-reduced-data: reduce)").matches,reducedMotion:matchMedia("(prefers-reduced-motion: reduce)").matches,darkColorScheme:matchMedia("(prefers-color-scheme: dark)").matches,lightColorScheme:matchMedia("(prefers-color-scheme: light)").matches,moreContrast:matchMedia("(prefers-contrast: more)").matches};return{errorType:e,url:r,language:n,allLanguages:t,browserInfo:f,deviceDimensions:d,browserId:s,localTime:i,userPreferences:c,extraInfo:a(a({},m.staticInfo),o)}})}function G(e){let o=p();y(a(a({},o),e))}function $(e,o){return l(this,null,function*(){let r=p();if(r.disable)return;let n=yield x(e,o);if(r.debug){console.log(`%c client-error-logger %c ${n.errorType} `,"background: #db3534; color: white;","background: lightgrey; color: #333;","Endpoint called with parameters:",n);return}if(!r.logEndpoint)return console.error("Logger endpoint not configured");yield P.default.post(r.logEndpoint,{data:n})})}
//# sourceMappingURL=index.cjs.map